{"version":3,"sources":["jrpc.browser.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","JRPC","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"options","active","transmitter","remoteTimeout","localTimeout","serial","discardSerial","outbox","requests","responses","inbox","localTimers","outTimers","localComponents","system.listComponents","system.extension.dual-batch","remoteComponents","exposed","params","next","bind","shutdown","instance","Object","keys","forEach","key","clearTimeout","transmit","callback","iRes","iReq","msg","outpacket","push","pop","setImmediate","JSON","stringify","confirmTransmit","setTransmitter","err","Array","prototype","apply","receive","parse","constructor","method","deliverResponse","serveRequest","upgrade","result","methodName","request","jsonrpc","message","id","setTimeout","error","res","timeout","expose","subject","name","hasOwnProperty","sendResponse","undefined","response","data","notify","Promise","promisify","callAsync","timers",2,"cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","array","noop","process","nextTick","args","arguments","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask",3,"Timeout","clearFn","_id","_clearFn","Function","slice","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","fn","clearImmediate","process/browser.js"],"mappings":"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","file":"jrpc.min.js"}